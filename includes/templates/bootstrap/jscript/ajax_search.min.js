// -----
// AJAX search for the Zen Cart Bootstrap template.
//
// Bootstrap v3.6.0
//
document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("#search-icon, #mobile-search").forEach((function(e){e.addEventListener("click",(function(e){var t=document.getElementById("search-wrapper");new bootstrap.Modal(t).show()}))})),document.getElementById("search-wrapper").addEventListener("shown.bs.modal",(function(){document.getElementById("search-input").focus()}));var e=document.getElementById("search-input");function t(e){var t=this.value.replace(/"|"/g,'"');t=t.replace(/'|'/g,"'");var n=document.getElementById("search-page").value,o=-1==n.indexOf("?")?"?":"&",c=n+o+"keyword="+encodeURIComponent(t);13!=e.keyCode?fetch("ajax.php?act=ajaxBootstrapSearch&method=searchProducts",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:"keywords="+encodeURIComponent(t)}).then((e=>e.json())).then((e=>{document.getElementById("search-content").innerHTML=e.searchHtml,document.querySelectorAll("#search-content .sugg-button").forEach((function(e){e.setAttribute("href",c)}))})).catch((e=>console.error("Error:",e))):window.location.replace(c)}e.addEventListener("keyup",t),e.addEventListener("touchend",t)}));